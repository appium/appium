language: android
sudo: false
android:
  components:
    - tools
    - platform-tools
    - tools
    - build-tools-25.0.1
    - android-25
matrix:
  include:
    - os: linux
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++-4.8
      env:
        - MATRIX_EVAL="CC=gcc-4.8 && CXX=g++-4.8"
    - os: osx
      osx_image: xcode8
script:
  - java -version
  # need to also set up Node environment
  - rm -rf ~/.nvm
  - git clone https://github.com/creationix/nvm.git ~/.nvm
  - source ~/.nvm/nvm.sh
  - nvm install 6
  - node --version
  - npm install -g gulp mocha
  - npm install
  - npm run lint
  - npm run test
after_success:
  - gulp coveralls
